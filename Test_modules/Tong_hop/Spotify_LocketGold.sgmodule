#!name=Spotify & Locket
#!desc=Unlock Spotify Premium & Locket Gold.

[Header Rewrite]
^https:\/\/(spclient\.wg\.spotify\.com|.*-spclient\.spotify\.com)\/user-customization-service\/v1\/customize header-del if-none-match

[Script]
spotify-json = type=http-request, pattern=^https:\/\/(spclient\.wg\.spotify\.com|.*-spclient\.spotify\.com)\/(artistview\/v1\/artist|album-entity-view\/v2\/album)\/, script-path=https://raw.githubusercontent.com/NgDanhThanhTrung/modules/main/SPOTIFY/spotify-json.js, requires-body=0
spotify-proto = type=http-response, pattern=^https:\/\/(spclient\.wg\.spotify\.com|.*-spclient\.spotify\.com)\/(bootstrap\/v1\/bootstrap|user-customization-service\/v1\/customize)$, script-path=https://raw.githubusercontent.com/NgDanhThanhTrung/modules/main/SPOTIFY/spotify-proto.js, requires-body=1, binary-body-mode=1
spotify-header = type=http-request, pattern=^https:\/\/(spclient\.wg\.spotify\.com|.*-spclient\.spotify\.com)\/user-customization-service\/v1\/customize, script-path=https://raw.githubusercontent.com/NgDanhThanhTrung/modules/main/SPOTIFY/spotify-qx-header.js, requires-body=0
revenuecat = type=http-response, pattern=^https:\/\/api\.revenuecat\.com\/.+\/(receipts$|subscribers\/[^/]+$), script-path=https://raw.githubusercontent.com/NgDanhThanhTrung/modules/main/LOCKET/LocketGold.js, requires-body=true, max-size=-1, timeout=60
deleteHeader = type=http-request, pattern=^https:\/\/api\.revenuecat\.com\/.+\/(receipts|subscribers), script-path=https://raw.githubusercontent.com/NgDanhThanhTrung/modules/main/LOCKET/deleteHeader.js, timeout=60

[MITM]
hostname = %APPEND% spclient.wg.spotify.com, *-spclient.spotify.com, *.googleusercontent.com, api.revenuecat.com
